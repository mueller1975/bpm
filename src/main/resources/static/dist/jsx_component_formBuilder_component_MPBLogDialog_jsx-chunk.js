"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkbpm"] = self["webpackChunkbpm"] || []).push([["jsx_component_formBuilder_component_MPBLogDialog_jsx"],{

/***/ "./jsx/component/formBuilder/component/MPBAuditLog.jsx":
/*!*************************************************************!*\
  !*** ./jsx/component/formBuilder/component/MPBAuditLog.jsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mui_icons_material_GroupAdd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/icons-material/GroupAdd */ \"./node_modules/@mui/icons-material/GroupAdd.js\");\n/* harmony import */ var _mui_lab__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/lab */ \"./node_modules/@mui/lab/TimelineItem/TimelineItem.js\");\n/* harmony import */ var _mui_lab__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/lab */ \"./node_modules/@mui/lab/TimelineOppositeContent/TimelineOppositeContent.js\");\n/* harmony import */ var _mui_lab__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/lab */ \"./node_modules/@mui/lab/TimelineSeparator/TimelineSeparator.js\");\n/* harmony import */ var _mui_lab__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/lab */ \"./node_modules/@mui/lab/TimelineDot/TimelineDot.js\");\n/* harmony import */ var _mui_lab__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/lab */ \"./node_modules/@mui/lab/TimelineConnector/TimelineConnector.js\");\n/* harmony import */ var _mui_lab__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/lab */ \"./node_modules/@mui/lab/TimelineContent/TimelineContent.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Typography/Typography.js\");\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/formConsts'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/form'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n\n\n\n\n\n\n\nconst LogDetails = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().memo((0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(({\n  action,\n  value,\n  className\n}) => {\n  const [notice, comments] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    let details = [undefined, value];\n    try {\n      let obj = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/form'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(value);\n      details = action == 'ADD_REVIEWERS' ? [obj, undefined] : [undefined, obj];\n    } catch (e) {\n      console.error(\"JSON 解析失敗:\", e);\n    }\n    return details;\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: className\n  }, /* 執行人員意見 */\n  notice ? undefined : typeof (comments ?? '') == 'string' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    variant: \"body2\",\n    color: \"text.secondary\",\n    className: \"comments\"\n  }, comments || '無意見。') : Array.isArray(comments) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"ARRAY\") : typeof comments == 'object' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ol\", {\n    className: \"messageList\"\n  }, Object.entries(comments).map(([key, value], i) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", {\n    key: i\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    variant: \"body2\"\n  }, key, \"\\uFF1A\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    variant: \"body2\",\n    color: \"textSecondary\"\n  }, value)))) : undefined, /* 發起會簽 */\n  notice && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"reviewers\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_icons_material_GroupAdd__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    fontSize: \"small\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    variant: \"body2\",\n    color: \"text.secondary\"\n  }, notice.reviewers.map(r => r.name).join('、'), \"\\uFF1A\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    variant: \"body2\",\n    color: \"text.secondary\",\n    className: \"comments\"\n  }, notice.notice)));\n})`\n    .comments {\n        white-space: break-spaces;        \n    }\n\n    .messageList {\n        padding-inline-start: 24px;\n\n        >li {\n            padding-left: 4px;\n\n            :nth-of-type(n+2) {\n                margin-top: 4px;\n            }\n        }\n    }\n\n    .reviewers {\n        display: flex;\n        align-items: center;\n        gap: 6px;\n\n        &>.MuiSvgIcon-root {\n            color: #90b5cf;\n        }\n\n        &>.MuiTypography-root {\n            color: #6d95cc;\n        }\n    }\n`);\n\n/**\r\n * MPB 單一動作歷程記錄\r\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().memo((0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().forwardRef((props, ref) => {\n  const {\n    id,\n    actor,\n    actorName,\n    details,\n    action,\n    logTime,\n    className\n  } = props;\n  const logAction = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/formConsts'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())[action];\n  const {\n    text: actionName,\n    icon: ActionIcon,\n    style: {\n      color: actionColor\n    },\n    isStartOfProcess = false,\n    isEndOfProcess = false\n  } = logAction;\n  const [notice, comments] = action == 'ADD_REVIEWERS' ? [JSON.parse(details), undefined] : [undefined, details];\n  // let comments = !details ? '無意見。' : details.charAt(0) != '{' ? details : JSON.parse(details)?.notice;\n\n  const [dotClass, iconClass] = isStartOfProcess || isEndOfProcess ? ['endDot', 'endIcon'] : ['interDot', undefined];\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_lab__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    ref: ref,\n    className: className\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_lab__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    className: \"actionContent\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    variant: \"subtitle1\",\n    component: \"span\",\n    color: actionColor,\n    sx: {\n      fontWeight: 'bold'\n    }\n  }, actionName), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    variant: \"subtitle2\",\n    color: \"text.secondary\",\n    noWrap: true\n  }, logTime)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_lab__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_lab__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    sx: {\n      bgcolor: actionColor,\n      borderColor: actionColor\n    },\n    className: dotClass\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ActionIcon, {\n    className: iconClass\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_lab__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_lab__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    className: \"tlContent\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    variant: \"subtitle1\"\n  }, actorName), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(LogDetails, {\n    action: action,\n    value: details\n  })));\n}))`\n    transition: background .65s;\n\n    :hover {\n        background-color: rgb(96 120 152 / 15%);\n    }\n\n    &.MuiTimelineItem-root {\n        margin: 0;\n        min-height: 80px;\n    }\n\n    .tlContent {\n        min-width: 120px;\n    }\n\n    .endDot {\n        background-clip: content-box;\n    }\n\n    .interDot {\n        // background-clip: content-box;\n        // border-color: transparent;\n    }\n\n    .endIcon {\n        margin: 4px;\n    }\n\n    .actionContent {\n        flex-grow: .3;\n    }\n    \n`));\n\n//# sourceURL=webpack://bpm/./jsx/component/formBuilder/component/MPBAuditLog.jsx?");

/***/ }),

/***/ "./jsx/component/formBuilder/component/MPBLogActionChip.jsx":
/*!******************************************************************!*\
  !*** ./jsx/component/formBuilder/component/MPBLogActionChip.jsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Chip/Chip.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Badge/Badge.js\");\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/formConsts'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\nconst ANCHOR_ORIGIN = {\n  vertical: 'top',\n  horizontal: 'right'\n};\n/**\r\n * 歷程動作 Chip\r\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props => {\n  const {\n    action: {\n      code,\n      name\n    },\n    count,\n    selected = false,\n    onSelect,\n    onDeselect,\n    ...others\n  } = props;\n  const logAction = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/formConsts'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())[code];\n  const {\n    text: actionName,\n    icon: ActionIcon,\n    style: {\n      color: actionColor\n    }\n  } = logAction;\n  const clickHandler = () => {\n    selected && onDeselect(code);\n    !selected && onSelect(code);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_3__[\"default\"], _extends({}, others, {\n    clickable: true,\n    disabled: count == 0,\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ActionIcon, {\n      fontSize: \"small\"\n    }),\n    label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n      badgeContent: count,\n      color: \"secondary\",\n      anchorOrigin: ANCHOR_ORIGIN\n    }, name),\n    sx: {\n      bgcolor: selected ? actionColor : 'default'\n    },\n    onClick: clickHandler\n  }));\n})`\n    width: 100%;\n\n    .MuiChip-label {\n        flex-grow: 1;\n        padding: 12px;\n    }\n\n    .MuiBadge-root {\n        width: 100%;\n    }\n`);\n\n//# sourceURL=webpack://bpm/./jsx/component/formBuilder/component/MPBLogActionChip.jsx?");

/***/ }),

/***/ "./jsx/component/formBuilder/component/MPBLogActionSelect.jsx":
/*!********************************************************************!*\
  !*** ./jsx/component/formBuilder/component/MPBLogActionSelect.jsx ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var Animations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! Animations */ \"./jsx/lib/animations.jsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ \"./node_modules/underscore/modules/index-all.js\");\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/formConsts'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n/* harmony import */ var _MPBLogActionChip_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MPBLogActionChip.jsx */ \"./jsx/component/formBuilder/component/MPBLogActionChip.jsx\");\n/* harmony import */ var _mui_icons_material_Deselect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/icons-material/Deselect */ \"./node_modules/@mui/icons-material/Deselect.js\");\n/* harmony import */ var _mui_icons_material_SelectAll__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/icons-material/SelectAll */ \"./node_modules/@mui/icons-material/SelectAll.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/ButtonGroup/ButtonGroup.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Button/Button.js\");\n\n\n\n\n\n\n\n\n\nconst actionOptions = Object.entries(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/formConsts'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())).map(([key, value]) => ({\n  code: key,\n  name: value.text\n}));\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(props => {\n  const {\n    statistics,\n    onSelect,\n    springRef,\n    className\n  } = props;\n  const [selectedActions, setSelectedActions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    // 設定預選歷程動作: 歷程中有\"保存\"以外的動作, 移除\"保存\"\n    let actions = Object.keys(statistics);\n    actions = actions.length > 1 ? underscore__WEBPACK_IMPORTED_MODULE_2__[\"default\"].without(actions, 'SAVE') : actions;\n    select(actions);\n  }, [statistics]);\n  const select = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(actions => {\n    setSelectedActions(actions);\n    onSelect(actions);\n  });\n  const selectHandler = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(code => {\n    let newActions = [...selectedActions, code];\n    select(newActions);\n  }, [selectedActions]); // 選取動作\n\n  const deselectHandler = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(code => {\n    let newActions = selectedActions.filter(s => s != code);\n    select(newActions);\n  }, [selectedActions]); // 取消選取動作\n\n  const selectAll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => select(Object.keys(statistics)), [statistics]);\n  const selectNone = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => select([]), []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: className\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"buttons\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    fullWidth: true,\n    color: \"warning\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_SelectAll__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      color: \"info\"\n    }),\n    onClick: selectAll\n  }, \"\\u5168\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_Deselect__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      color: \"disabled\"\n    }),\n    onClick: selectNone\n  }, \"\\u7121\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"actions\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(Animations__WEBPACK_IMPORTED_MODULE_0__.SpringTransition2, {\n    ref: springRef,\n    effect: \"scale\",\n    items: actionOptions,\n    trail: 100\n  }, action => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_MPBLogActionChip_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    action: action,\n    count: statistics[action.code] ?? 0,\n    selected: selectedActions.indexOf(action.code) > -1,\n    onSelect: selectHandler,\n    onDeselect: deselectHandler\n  }))));\n})`\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    box-sizing: border-box;\n    \n    .buttons {\n        padding: 8px;\n    }\n\n    .actions {\n        flex-grow: 1;\n        gap: 8px;\n        display: flex;\n        flex-direction: column;\n        overflow: hidden auto;\n        padding: 4px 8px 16px;\n    }\n`);\n\n//# sourceURL=webpack://bpm/./jsx/component/formBuilder/component/MPBLogActionSelect.jsx?");

/***/ }),

/***/ "./jsx/component/formBuilder/component/MPBLogDialog.jsx":
/*!**************************************************************!*\
  !*** ./jsx/component/formBuilder/component/MPBLogDialog.jsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mui_icons_material_CancelOutlined__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/icons-material/CancelOutlined */ \"./node_modules/@mui/icons-material/CancelOutlined.js\");\n/* harmony import */ var _mui_icons_material_History__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/icons-material/History */ \"./node_modules/@mui/icons-material/History.js\");\n/* harmony import */ var _mui_lab__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/lab */ \"./node_modules/@mui/lab/Timeline/Timeline.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Zoom/Zoom.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Button/Button.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/DialogContent/DialogContent.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Typography/Typography.js\");\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @react-spring/web */ \"./node_modules/@react-spring/web/dist/esm/index.js\");\n/* harmony import */ var Animations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! Animations */ \"./jsx/lib/animations.jsx\");\n/* harmony import */ var Components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! Components */ \"./jsx/lib/components.jsx\");\n/* harmony import */ var Hook_useTools_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! Hook/useTools.jsx */ \"./jsx/hook/useTools.jsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/useFetchAPI'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n/* harmony import */ var _MPBAuditLog_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MPBAuditLog.jsx */ \"./jsx/component/formBuilder/component/MPBAuditLog.jsx\");\n/* harmony import */ var _MPBLogActionSelect_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MPBLogActionSelect.jsx */ \"./jsx/component/formBuilder/component/MPBLogActionSelect.jsx\");\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\r\n * MPB 歷程 Dialog\r\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().memo((0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(props => {\n  const {\n    rowId,\n    ...others\n  } = props;\n  const [logs, setLogs] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)([]);\n  const [displayLogs, setDisplayLogs] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)([]);\n  const [selectedActions, setSelectedActions] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)([]); // 選取要顯示的歷程動作\n  const [statistics, setStatistics] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)({}); // 各歷程動作次數統計\n  const {\n    showError\n  } = (0,Hook_useTools_jsx__WEBPACK_IMPORTED_MODULE_3__.useNotification)();\n\n  // 查詢歷程記錄 hook\n  const {\n    execute: queryLogs,\n    pending: querying\n  } = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/useFetchAPI'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(result => {\n    // 統計各歷程動作次數\n    let countMap = {};\n    result.forEach(({\n      action\n    }) => {\n      let count = countMap[action] ?? 0;\n      countMap[action] = ++count;\n    });\n    setStatistics(countMap);\n    setLogs(result);\n  }, showError);\n  const transitionProps = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(() => ({\n    onEnter: () => queryLogs({\n      params: rowId\n    }),\n    // 查詢歷程記錄\n    onExited: () => {\n      // 清空歷程記錄\n      setLogs([]);\n      setStatistics({});\n      setSelectedActions([]);\n    }\n  }), [rowId]);\n  const selectHandler = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(actions => {\n    let newLogs = logs.filter(log => actions.includes(log.action));\n    setDisplayLogs(newLogs);\n    setSelectedActions(actions);\n  }, [logs]);\n  const selectSpringRef = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_0__.useSpringRef)();\n  const logsSpringRef = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_0__.useSpringRef)();\n  (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_0__.useChain)([logsSpringRef, selectSpringRef], [0, 0.5]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(Components__WEBPACK_IMPORTED_MODULE_2__.DraggableDialog, _extends({\n    key: rowId,\n    TransitionComponent: _mui_material__WEBPACK_IMPORTED_MODULE_9__[\"default\"]\n  }, others, {\n    TransitionProps: transitionProps\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(Components__WEBPACK_IMPORTED_MODULE_2__.IconnedDialogTitle, {\n    icon: _mui_icons_material_History__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n    title: \"MPB \\u6B77\\u7A0B\\u8A18\\u9304\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n    variant: \"contained\",\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_icons_material_CancelOutlined__WEBPACK_IMPORTED_MODULE_12__[\"default\"], null),\n    onClick: props.onClose\n  }, \"\\u96E2\\u958B\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_13__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: \"actionSelect\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_MPBLogActionSelect_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    springRef: selectSpringRef,\n    statistics: statistics,\n    onSelect: selectHandler\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: \"timelinePanel\"\n  }, querying ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(Components__WEBPACK_IMPORTED_MODULE_2__.Loading, {\n    message: \"\\u8CC7\\u6599\\u8F09\\u5165\\u4E2D...\"\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_lab__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    position: \"right\"\n  }, logs.length == 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    color: \"secondary\",\n    align: \"center\"\n  }, \"\\u76EE\\u524D\\u7121\\u672C\\u55AE\\u7684\\u6B77\\u7A0B\\u8A18\\u9304\") : null, logs.length > 0 && selectedActions.length == 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    color: \"secondary\",\n    align: \"center\"\n  }, \"\\u8ACB\\u9078\\u53D6\\u5DE6\\u65B9\\u52D5\\u4F5C\\u4EE5\\u986F\\u793A\\u6B77\\u7A0B\") : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(Animations__WEBPACK_IMPORTED_MODULE_1__.SpringTransition2, {\n    ref: logsSpringRef,\n    effect: \"slide\",\n    trail: 100,\n    items: displayLogs,\n    keys: ({\n      id\n    }) => id\n  }, log => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_MPBAuditLog_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"], log))))));\n})`\n    .MuiDialogContent-root {\n        position: relative;\n        padding: 0 20px 20px;\n        overflow: hidden;\n        display: flex;\n        gap: 16px;\n    }\n\n    .actionSelect {\n        opacity: .8;\n        transition: opacity .5s;\n        border-radius: 4px;\n        padding: 4px;\n        background: ${({\n  theme: {\n    palette: {\n      mode\n    }\n  }\n}) => mode == 'light' ? 'rgb(219 219 219)' : 'rgb(57 62 80)'};        \n        box-shadow: rgb(0 0 0 / 55%) 8px 8px 8px 0px;\n\n        &:hover {\n            opacity: 1;\n        }\n    }\n\n    .timelinePanel {\n        flex-grow: 1;\n        width: 100%;\n        border-radius: 4px;\n        overflow: hidden auto;\n        background: ${({\n  theme: {\n    palette: {\n      mode\n    }\n  }\n}) => mode == 'light' ? 'linear-gradient(135deg, rgb(157 156 156 / 46%), rgb(235 235 235 / 67%), rgb(157 156 156 / 46%))' : 'linear-gradient(135deg, rgb(0 0 0 / 70%), rgb(44 49 69 / 80%), rgb(0 0 0 / 70%))'};\n        box-shadow: rgb(0 0 0 / 55%) 8px 8px 8px 0px;\n    }\n`));\n\n//# sourceURL=webpack://bpm/./jsx/component/formBuilder/component/MPBLogDialog.jsx?");

/***/ }),

/***/ "./jsx/lib/animations.jsx":
/*!********************************!*\
  !*** ./jsx/lib/animations.jsx ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SlideDownTransition: () => (/* binding */ SlideDownTransition),\n/* harmony export */   SlideUpTransition: () => (/* binding */ SlideUpTransition)\n/* harmony export */ });\n/* empty/unused harmony star reexport */\n/* empty/unused harmony star reexport */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_material_Slide__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/material/Slide */ \"./node_modules/@mui/material/Slide/Slide.js\");\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'Component/Loading.jsx'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'Animation/SpringTransition2.jsx'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n/**\r\n * Transition Components\r\n */\n\n\n\n\nconst SlideUpTransition = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().forwardRef((props, ref) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Slide__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _extends({\n  ref: ref,\n  direction: \"up\"\n}, props)));\nconst SlideDownTransition = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().forwardRef((props, ref) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Slide__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _extends({\n  ref: ref,\n  direction: \"down\"\n}, props)));\n// export const SpringTransition = React.forwardRef((props, ref) => <Slide ref={ref} direction=\"down\" {...props} />)\n\n// const LazySpringTransition = SpeechRecognitionAlternative.lazy(() => import(\"Animation/SpringTransition.jsx\"))\n\n// export const SpringTransition = React.forwardRef((props, ref) => (\n//     <Suspense fallback={<Loading />}>\n//         <LazySpringTransition ref={ref} {...props} />\n//     </Suspense>\n// ));\n\n\n\n//# sourceURL=webpack://bpm/./jsx/lib/animations.jsx?");

/***/ })

}]);